import{a as S,b as m,c as $,d as B,e as F,f as N,g as T,h as E,i as k}from"./chunk-VO45K3XQ.js";import{Ab as v,Bb as h,Ea as x,Gb as r,Ha as e,Hb as a,Ma as b,Sa as C,Wa as u,bc as _,cc as O,fc as w,hb as i,ib as p,jb as d,kb as c,lc as M,mc as P,nc as I,qb as y,zb as s}from"./chunk-HKFESCHS.js";function A(t,n){if(t&1&&(p(0,"li")(1,"a",20),s(2),d()()),t&2){let l=n.$implicit;e(),i("href","mailto:"+l,x),e(),v(l)}}function U(t,n){t&1&&(p(0,"div",21),s(1),r(2,"translate"),d()),t&2&&(e(),h(" ",a(2,1,"news.errors.name")," "))}function z(t,n){t&1&&(p(0,"div",21),s(1),r(2,"translate"),d()),t&2&&(e(),h(" ",a(2,1,"news.errors.email")," "))}function L(t,n){t&1&&(p(0,"div",21),s(1),r(2,"translate"),d()),t&2&&(e(),h(" ",a(2,1,"news.errors.phone")," "))}function R(t,n){t&1&&(p(0,"div",21),s(1),r(2,"translate"),d()),t&2&&(e(),h(" ",a(2,1,"contact.message_error")," "))}var D=class t{constructor(n,l){this.t=n;this.fb=l}emails=[];form;sending=!1;sub;ngOnInit(){this.loadEmails(),this.buildForm(),this.sub=this.t.onLangChange.subscribe(()=>this.loadEmails())}ngOnDestroy(){this.sub?.unsubscribe()}loadEmails(){this.t.get("contact.emails").subscribe(n=>{this.emails=Array.isArray(n)?n:[]})}buildForm(){this.form=this.fb.group({name:["",[m.required,m.minLength(4)]],email:["",[m.required,m.email]],phone:["",[m.required]],country:[""],city:[""],message:["",[m.required,m.minLength(10)]],interest:[""]})}ctrl(n){return this.form.get(n)}send(){if(this.form.invalid){this.form.markAllAsTouched();return}let n=this.emails[0]||"info@iccoc.org",l=this.t.instant("app.brand"),o=this.t.instant("mail.heading_admin"),g=this.t.instant("mail.fields"),f=this.form.value,G=[`${o} - ${l}`,"",`${g.name}: ${f.name}`,`${g.email}: ${f.email}`,`${g.phone}: ${f.phone}`,`${g.country}: ${f.country||"-"}`,`${g.city}: ${f.city||"-"}`,"",this.t.instant("contact.form.interest")+": "+(f.interest||"-"),"",this.t.instant("contact.form.message")+":",f.message],j=encodeURIComponent(G.join(`
`)),q=encodeURIComponent(`${l} \u2013 ${this.t.instant("contact.title")}`);window.location.href=`mailto:${n}?subject=${q}&body=${j}`}static \u0275fac=function(l){return new(l||t)(b(M),b(E))};static \u0275cmp=C({type:t,selectors:[["app-contact"]],decls:38,vars:37,consts:[[1,"section"],[1,"container"],[1,"hero",2,"background-image","url('https://images.unsplash.com/photo-1495727034151-8fdc73e332a8?q=80&w=1600&auto=format&fit=crop')"],[1,"wrap","card","soft"],[1,"grid","cols-2","mt-24"],[1,"card","soft"],[1,"card-title"],[1,"emails"],[4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],["formControlName","name",1,"input",3,"placeholder"],["class","err",4,"ngIf"],["formControlName","email","type","email",1,"input",3,"placeholder"],["formControlName","phone",1,"input",3,"placeholder"],[1,"row"],["formControlName","country",1,"input",3,"placeholder"],["formControlName","city",1,"input",3,"placeholder"],["formControlName","interest",1,"input",3,"placeholder"],["rows","6","formControlName","message",1,"input","textarea",3,"placeholder"],["type","submit",1,"btn","primary",3,"disabled"],[3,"href"],[1,"err"]],template:function(l,o){l&1&&(p(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),s(5),r(6,"translate"),d()()(),p(7,"div",4)(8,"div",5)(9,"h3",6),s(10),r(11,"translate"),d(),p(12,"ul",7),u(13,A,3,2,"li",8),d()(),p(14,"div",5)(15,"form",9),y("ngSubmit",function(){return o.send()}),c(16,"input",10),r(17,"translate"),u(18,U,3,3,"div",11),c(19,"input",12),r(20,"translate"),u(21,z,3,3,"div",11),c(22,"input",13),r(23,"translate"),u(24,L,3,3,"div",11),p(25,"div",14),c(26,"input",15),r(27,"translate"),c(28,"input",16),r(29,"translate"),d(),c(30,"input",17),r(31,"translate"),c(32,"textarea",18),r(33,"translate"),u(34,R,3,3,"div",11),p(35,"button",19),s(36),r(37,"translate"),d()()()()()()),l&2&&(e(5),v(a(6,17,"contact.title")),e(5),v(a(11,19,"nav.contact")),e(3),i("ngForOf",o.emails),e(2),i("formGroup",o.form),e(),i("placeholder",a(17,21,"news.form.name")),e(2),i("ngIf",o.ctrl("name").touched&&o.ctrl("name").invalid),e(),i("placeholder",a(20,23,"news.form.email")),e(2),i("ngIf",o.ctrl("email").touched&&o.ctrl("email").invalid),e(),i("placeholder",a(23,25,"news.form.phone")),e(2),i("ngIf",o.ctrl("phone").touched&&o.ctrl("phone").invalid),e(2),i("placeholder",a(27,27,"news.form.country")),e(2),i("placeholder",a(29,29,"news.form.city")),e(2),i("placeholder",a(31,31,"contact.form.interest_ph")),e(2),i("placeholder",a(33,33,"contact.message_placeholder")),e(2),i("ngIf",o.ctrl("message").touched&&o.ctrl("message").invalid),e(),i("disabled",o.form.invalid),e(),h(" ",a(37,35,"nav.contact")," "))},dependencies:[w,_,O,I,k,F,S,$,B,N,T,P],styles:['@charset "UTF-8";.section[_ngcontent-%COMP%]{margin-top:35px}.hero[_ngcontent-%COMP%]{background-size:cover;background-position:center;border-radius:16px;padding:18px;margin-bottom:35px}.wrap.card.soft[_ngcontent-%COMP%]{background:#ffffffeb;border-radius:12px;padding:16px}.grid.cols-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px}@media (min-width: 900px){.grid.cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.card.soft[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5eef9;border-radius:12px;padding:16px;box-shadow:0 10px 24px #02061714}.card-title[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:800}.emails[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.emails[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:6px 0}.emails[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0b2240;text-decoration:none}.emails[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #e5eef9;border-radius:10px;margin:6px 0}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px}@media (min-width: 600px){.row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.textarea[_ngcontent-%COMP%]{min-height:120px}.err[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px;margin-top:2px}.btn.primary[_ngcontent-%COMP%]{display:inline-block;padding:10px 16px;border-radius:12px;border:0;cursor:pointer;background:linear-gradient(135deg,#001a62);color:#fff;font-weight:800;box-shadow:0 12px 24px #0206171f}.btn.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}']})};export{D as Contact};
