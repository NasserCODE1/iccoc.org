import{a as B,b as m,c as $,d as F,e as N,f as E,g as T,h as k,i as D}from"./chunk-SXDEEG7K.js";import{$a as c,$b as S,Ba as b,Ha as y,La as u,Qb as O,Rb as w,Tb as M,Ya as i,Za as p,Zb as I,_a as l,_b as P,fb as _,nb as s,ob as v,pb as g,ta as x,vb as n,wa as e,wb as r}from"./chunk-WXFVOBHB.js";function U(t,a){if(t&1&&(p(0,"li")(1,"a",21),s(2),l()()),t&2){let d=a.$implicit;e(),i("href","mailto:"+d,x),e(),v(d)}}function z(t,a){t&1&&(p(0,"div",22),s(1),n(2,"translate"),l()),t&2&&(e(),g(" ",r(2,1,"news.errors.name")," "))}function L(t,a){t&1&&(p(0,"div",22),s(1),n(2,"translate"),l()),t&2&&(e(),g(" ",r(2,1,"news.errors.email")," "))}function R(t,a){t&1&&(p(0,"div",22),s(1),n(2,"translate"),l()),t&2&&(e(),g(" ",r(2,1,"news.errors.phone")," "))}function V(t,a){t&1&&(p(0,"div",22),s(1),n(2,"translate"),l()),t&2&&(e(),g(" ",r(2,1,"contact.message_error")," "))}var j=class t{constructor(a,d){this.t=a;this.fb=d}emails=[];form;sending=!1;sub;ngOnInit(){this.loadEmails(),this.buildForm(),this.sub=this.t.onLangChange.subscribe(()=>this.loadEmails())}ngOnDestroy(){this.sub?.unsubscribe()}loadEmails(){this.t.get("contact.emails").subscribe(a=>{this.emails=Array.isArray(a)?a:[]})}buildForm(){this.form=this.fb.group({name:["",[m.required,m.minLength(4)]],email:["",[m.required,m.email]],phone:["",[m.required]],country:[""],city:[""],message:["",[m.required,m.minLength(10)]],interest:[""]})}ctrl(a){return this.form.get(a)}send(){if(this.form.invalid){this.form.markAllAsTouched();return}let a=this.emails[0]||"info@iccoc.org",d=this.t.instant("app.brand"),o=this.t.instant("mail.subject_admin"),C=this.t.instant("mail.heading_admin"),h=this.t.instant("mail.fields"),f=this.form.value,G=[`${C} - ${d}`,"",`${h.name}: ${f.name}`,`${h.email}: ${f.email}`,`${h.phone}: ${f.phone}`,`${h.country}: ${f.country||"-"}`,`${h.city}: ${f.city||"-"}`,"",this.t.instant("contact.form.interest")+": "+(f.interest||"-"),"",this.t.instant("contact.form.message")+":",f.message],q=encodeURIComponent(G.join(`
`)),A=encodeURIComponent(`${d} \u2013 ${this.t.instant("contact.title")}`);window.location.href=`mailto:${a}?subject=${A}&body=${q}`}static \u0275fac=function(d){return new(d||t)(b(I),b(k))};static \u0275cmp=y({type:t,selectors:[["app-contact"]],decls:41,vars:40,consts:[[1,"section"],[1,"container"],[1,"hero",2,"background-image","url('https://images.unsplash.com/photo-1495727034151-8fdc73e332a8?q=80&w=1600&auto=format&fit=crop')"],[1,"wrap","card","soft"],[1,"muted"],[1,"grid","cols-2","mt-24"],[1,"card","soft"],[1,"card-title"],[1,"emails"],[4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],["formControlName","name",1,"input",3,"placeholder"],["class","err",4,"ngIf"],["formControlName","email","type","email",1,"input",3,"placeholder"],["formControlName","phone",1,"input",3,"placeholder"],[1,"row"],["formControlName","country",1,"input",3,"placeholder"],["formControlName","city",1,"input",3,"placeholder"],["formControlName","interest",1,"input",3,"placeholder"],["rows","6","formControlName","message",1,"input","textarea",3,"placeholder"],["type","submit",1,"btn","primary",3,"disabled"],[3,"href"],[1,"err"]],template:function(d,o){d&1&&(p(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),s(5),n(6,"translate"),l(),p(7,"p",4),s(8),n(9,"translate"),l()()(),p(10,"div",5)(11,"div",6)(12,"h3",7),s(13),n(14,"translate"),l(),p(15,"ul",8),u(16,U,3,2,"li",9),l()(),p(17,"div",6)(18,"form",10),_("ngSubmit",function(){return o.send()}),c(19,"input",11),n(20,"translate"),u(21,z,3,3,"div",12),c(22,"input",13),n(23,"translate"),u(24,L,3,3,"div",12),c(25,"input",14),n(26,"translate"),u(27,R,3,3,"div",12),p(28,"div",15),c(29,"input",16),n(30,"translate"),c(31,"input",17),n(32,"translate"),l(),c(33,"input",18),n(34,"translate"),c(35,"textarea",19),n(36,"translate"),u(37,V,3,3,"div",12),p(38,"button",20),s(39),n(40,"translate"),l()()()()()()),d&2&&(e(5),v(r(6,18,"contact.title")),e(3),v(r(9,20,"media.welcome")),e(5),v(r(14,22,"nav.contact")),e(3),i("ngForOf",o.emails),e(2),i("formGroup",o.form),e(),i("placeholder",r(20,24,"news.form.name")),e(2),i("ngIf",o.ctrl("name").touched&&o.ctrl("name").invalid),e(),i("placeholder",r(23,26,"news.form.email")),e(2),i("ngIf",o.ctrl("email").touched&&o.ctrl("email").invalid),e(),i("placeholder",r(26,28,"news.form.phone")),e(2),i("ngIf",o.ctrl("phone").touched&&o.ctrl("phone").invalid),e(2),i("placeholder",r(30,30,"news.form.country")),e(2),i("placeholder",r(32,32,"news.form.city")),e(2),i("placeholder",r(34,34,"contact.form.interest_ph")),e(2),i("placeholder",r(36,36,"contact.message_placeholder")),e(2),i("ngIf",o.ctrl("message").touched&&o.ctrl("message").invalid),e(),i("disabled",o.form.invalid),e(),g(" ",r(40,38,"nav.contact")," "))},dependencies:[M,O,w,S,D,N,B,$,F,E,T,P],styles:['@charset "UTF-8";.hero[_ngcontent-%COMP%]{background-size:cover;background-position:center;border-radius:16px;padding:18px}.wrap.card.soft[_ngcontent-%COMP%]{background:#ffffffeb;border-radius:12px;padding:16px}.grid.cols-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px}@media (min-width: 900px){.grid.cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.card.soft[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5eef9;border-radius:12px;padding:16px;box-shadow:0 10px 24px #02061714}.card-title[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:800}.emails[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.emails[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:6px 0}.emails[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0b2240;text-decoration:none}.emails[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #e5eef9;border-radius:10px;margin:6px 0}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px}@media (min-width: 600px){.row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.textarea[_ngcontent-%COMP%]{min-height:120px}.err[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px;margin-top:2px}.btn.primary[_ngcontent-%COMP%]{display:inline-block;padding:10px 16px;border-radius:12px;border:0;cursor:pointer;background:linear-gradient(135deg,#1d4ed8,#0ea5e9,#0b2240);color:#fff;font-weight:800;box-shadow:0 12px 24px #0206171f}.btn.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}']})};export{j as Contact};
